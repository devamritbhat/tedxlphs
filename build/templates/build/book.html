{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" href="{% static 'build/logo.png' %}" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'build/style.css' %}">
    <title>TEDxYouth@LPHS</title>
</head>

<body>
    <div class="d-flex fadeto align-items-center pt-4 justify-content-start">
        <img class="px-4" src="{% static 'build/tedxlphs.png' %}" alt="TEDxLPHS Logo">
    </div>

    <div id="greet" class="d-flex align-items-center justify-content-lg-center justify-content-evenly flex-column">
        <img src="{% static 'build/ted.png' %}" alt="TED logo">
    </div>
    
    <form method="POST" enctype="multipart/form-data" action="" id="tedx_form">
        <div class="modal fade" id="modal-pay" role="dialog" tabindex="-1" aria-labelledby="payModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header justify-content-center h4 text-white border-3">
                        <span>Payment Details</span>
                    </div>

                    <div class="modal-body justify-content-md-center">
                        <div class="d-flex flex-column flex-md-row">
                            <div class="flex-md-shrink-0 ms-3">
                                <img class="img-fluid" src="{% static 'build/qrcode.jpg' %}" alt="QR Code">
                            </div>
                            <div class="flex-md-grow-1 ms-3 d-block d-md-inline">
                                <span class="d-block my-3 my-md-0 mt-md-2 me-3">Kindly proceed with the payment either by scanning the provided QR code or through GPAY using the following number: <b>8898156714</b> (Snehal Parab).</span>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-12">
                                <label for="formFileLg" class="form-label">Please Upload Screenshot of Payment Confirmation</label>
                                {{ form.file }}
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-12">
                                <label for="trId" class="form-label">Transaction ID</label>
                                {{ form.tr_id }}
                            </div>
                        </div>
                    </div>

                    <div class="modal-footer d-grid gap-2 col-12 justify-content-center">
                        <button type="button" class="btn btn-outline-light" type="submit" value="submit" onclick="book_seat(), this.disabled=true" disabled="disabled" id="fin_btn"></button>
                    </div>
                </div>
            </div>
        </div>


        <div class="modal fade" id="modal-seats" role="dialog" tabindex="-1" aria-labelledby="seatModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable bg-danger modal-xl overflow-visible">
                <div class="modal-content">
                    <div class="modal-header justify-content-center h3 text-white border-3">
                        <span>STAGE</span>
                    </div>

                    <div class="modal-body justify-content-md-center" id="s-mb">
                        <div class="justify-content-start border-bottom border-light text-white m-1 mb-3 categ">
                            PREMIUM-RS. 800
                        </div>

                        <div class="row justify-content-center align-items-center" id="A">
                            <div class="col-2"></div>
                            <div class="col-1 text-center">A</div>
                            <div class="col-6 text-center text-nowrap">
                                <button>19</button><button>18</button><button>17</button><button>16</button><button>15</button><button>14</button><button>13</button><button>12</button><button>11</button><button>10</button><button>9</button><button>8</button><button>7</button>
                            </div>
                            <div class="col-1 text-center">A</div>
                            <div class="col-2 text-nowrap">
                                
                            </div>
                        </div>

                        <div class="row align-items-center flex-nowrap" id="B"> 
                            <div class="col-2"></div>
                            <div class="col-1 text-center">B</div>
                            <div class="col-6 text-center text-nowrap">
                                <button>19</button><button>18</button><button>17</button><button>16</button><button>15</button><button>14</button><button>13</button><button>12</button><button>11</button><button>10</button><button>9</button><button>8</button>
                            </div>
                            <div class="col-1 text-center">B</div>
                            <div class="col-2 text-nowrap">
                                
                            </div>
                        </div>

                        <div class="row align-items-center flex-nowrap" id="C">
                            <div class="col-2"></div>
                            <div class="col-1 text-center">C</div>
                            <div class="col-6 text-center text-nowrap">
                                <button>21</button><button>20</button><button>19</button><button>18</button><button>17</button><button>16</button><button>15</button><button>14</button><button>13</button><button>12</button><button>11</button><button>10</button><button>9</button>
                            </div>
                            <div class="col-1 text-center">C</div>
                            <div class="col-2 text-nowrap">
                                
                            </div>
                        </div>

                        <div class="row align-items-center flex-nowrap" id="D">
                            <div class="col-2 text-end text-nowrap">
                            </div>
                            <div class="col-1 text-center">D</div>
                            <div class="col-6 text-center text-nowrap">
                                <button>20</button><button>19</button><button>18</button><button>17</button><button>16</button><button>15</button><button>14</button><button>13</button><button>12</button><button>11</button><button>10</button><button>9</button>
                            </div>
                            <div class="col-1 text-center">D</div>
                            <div class="col-2 text-nowrap">
                                
                            </div>
                        </div>

                        <div class="row align-items-center flex-nowrap" id="E">
                            <div class="col-2 text-end  text-nowrap">
                                <button>24</button><button>23</button>
                            </div>
                            <div class="col-1 text-center">E</div>
                            <div class="col-6 text-center text-nowrap">
                                <button>22</button><button>21</button><button>20</button><button>19</button><button>18</button><button>17</button><button>16</button><button>15</button><button>14</button><button>13</button><button>12</button><button>11</button><button>10</button>
                            </div>
                            <div class="col-1 text-center">E</div>
                            <div class="col-2 text-nowrap">
                                <button>9</button><button>8</button>
                            </div>
                        </div>

                        <div class="row align-items-center flex-nowrap" id="F">
                            <div class="col-2 text-end  text-nowrap">
                                <button>24</button><button>23</button>
                            </div>
                            <div class="col-1 text-center">F</div>
                            <div class="col-6 text-center text-nowrap">
                                <button>22</button><button>21</button><button>20</button><button>19</button><button>18</button><button>17</button><button>16</button><button>15</button><button>14</button><button>13</button><button>12</button><button>11</button>
                            </div>
                            <div class="col-1 text-center">F</div>
                            <div class="col-2 text-nowrap">
                                <button>10</button><button>9</button>
                            </div>
                        </div>

                        <div class="row align-items-center flex-nowrap" id="G">
                            <div class="col-2 text-end text-nowrap">
                                <button>25</button><button>24</button>
                            </div>
                            <div class="col-1 text-center">G</div>
                            <div class="col-6 text-center text-nowrap">
                                <button>23</button><button>22</button><button>21</button><button>20</button><button>19</button><button>18</button><button>17</button><button>16</button><button>15</button><button>14</button><button>13</button><button>12</button><button>11</button>
                            </div>
                            <div class="col-1 text-center text-nowrap">G</div>
                            <div class="col-2">
                                <button>10</button><button>9</button>
                            </div>
                        </div>

                        <div class="row align-items-center flex-nowrap" id="H">
                            <div class="col-2 text-end text-nowrap">
                                <button>25</button><button>24</button>
                            </div>
                            <div class="col-1 text-center">H</div>
                            <div class="col-6 text-center text-nowrap">
                                <button>23</button><button>22</button><button>21</button><button>20</button><button>19</button><button>18</button><button>17</button><button>16</button><button>15</button><button>14</button><button>13</button><button>12</button>
                            </div>
                            <div class="col-1 text-center">H</div>
                            <div class="col-2 text-nowrap">
                                <button>11</button><button>10</button>
                            </div>
                        </div>

                        <div class="row align-items-center flex-nowrap" id="I">
                            <div class="col-2 text-end text-nowrap">
                                <button>27</button><button>26</button>
                            </div>
                            <div class="col-1 text-center">I</div>
                            <div class="col-6 text-center text-nowrap">
                                <button>25</button><button>24</button><button>23</button><button>22</button><button>21</button><button>20</button><button>19</button><button>18</button><button>17</button><button>16</button><button>15</button><button>14</button><button>13</button>
                            </div>
                            <div class="col-1 text-center">I</div>
                            <div class="col-2 text-nowrap">
                                <button>12</button><button>11</button>
                            </div>
                        </div>

                        <div class="row align-items-center flex-nowrap" id="J">
                            <div class="col-2 text-end text-nowrap">
                               <button>26</button><button>25</button>
                            </div>
                            <div class="col-1 text-center">J</div>
                            <div class="col-6 text-center text-nowrap">
                                <button>24</button><button>23</button><button>22</button><button>21</button><button>20</button><button>19</button><button>18</button><button>17</button><button>16</button><button>15</button><button>14</button><button>13</button>
                            </div>
                            <div class="col-1 text-center">J</div>
                            <div class="col-2 text-nowrap">
                                <button>12</button><button>11</button>
                            </div>
                        </div>

                        <div class="justify-content-start border-bottom border-light text-white m-1 mb-3 mt-3 categ">
                            EXECUTIVE-RS. 500
                        </div>

                        <div class="row align-items-center mt-4 flex-nowrap" id="K">
                            <div class="col-2 text-end text-nowrap">
                                <button>22</button>
                            </div>
                            <div class="col-1 text-center">K</div>
                            <div class="col-6 text-center text-nowrap">
                                <button>21</button><button>20</button><button>19</button><button>18</button><button>17</button><button>16</button><button>15</button><button>14</button><button>13</button><button>12</button><button>11</button><button>10</button><button>9</button>
                            </div>
                            <div class="col-1 text-center">K</div>
                            <div class="col-2 text-nowrap">
                                <button>8</button>
                            </div>
                        </div>

                        <div class="row align-items-center flex-nowrap" id="L">
                            <div class="col-2 text-end text-nowrap">
                                <button>21</button>
                            </div>
                            <div class="col-1 text-center">L</div>
                            <div class="col-6 text-center text-nowrap">
                                <button>20</button><button>19</button><button>18</button><button>17</button><button>16</button><button>15</button><button>14</button><button>13</button><button>12</button><button>11</button><button>10</button><button>9</button>
                            </div>
                            <div class="col-1 text-center">L</div>
                            <div class="col-2 text-nowrap">
                                <button>8</button>
                            </div>
                        </div>

                        <div class="row align-items-center flex-nowrap" id="M">
                            <div class="col-2 text-end text-nowrap">
                                <button>22</button>
                            </div>
                            <div class="col-1 text-center">M</div>
                            <div class="col-6 text-center text-nowrap">
                                <button>21</button><button>20</button><button>19</button><button>18</button><button>17</button><button>16</button><button>15</button><button>14</button><button>13</button><button>12</button><button>11</button><button>10</button><button>9</button>
                            </div>
                            <div class="col-1 text-center">M</div>
                            <div class="col-2 text-nowrap">
                                <button>8</button>
                            </div>
                        </div>

                        <div class="row align-items-center flex-nowrap" id="N">
                            <div class="col-2 text-end text-nowrap">
                                <button>21</button>
                            </div>
                            <div class="col-1 text-center">N</div>
                            <div class="col-6 text-center text-nowrap">
                                <button>20</button><button>19</button><button>18</button><button>17</button><button>16</button><button>15</button><button>14</button><button>13</button><button>12</button><button>11</button><button>10</button><button>9</button>
                            </div>
                            <div class="col-1 text-center">N</div>
                            <div class="col-2 text-nowrap">
                                <button>8</button>
                            </div>
                        </div>

                        <div class="row align-items-center flex-nowrap" id="O">
                            <div class="col-2 text-end text-nowrap">
                                <button>28</button>
                            </div>
                            <div class="col-1 text-center">O</div>
                            <div class="col-6 text-center text-nowrap">
                                <button>27</button><button>26</button><button>25</button><button>24</button><button>23</button><button>22</button><button>21</button><button>20</button><button>19</button><button>18</button><button>17</button><button>16</button><button>15</button>
                            </div>
                            <div class="col-1 text-center">O</div>
                            <div class="col-2 text-nowrap">
                                <button>14</button>
                            </div>
                        </div>
                    </div>

                    <div class="modal-footer d-grid gap-2 col-12 justify-content-center">
                        <button type="button" class="btn btn-md btn-outline-light" data-bs-toggle="modal" data-bs-target="#modal-pay" data-bs-dismiss="modal" id="pro" disabled="disabled">Proceed to Payment<i class="bi bi-chevron-right ms-2"></i></button>
                    </div>
                </div>
            </div>
        </div>

        <div class ="fadeto2 text-white d-flex justify-content-start align-items-start m-4 p-4 flex-column border rounded">
            {% csrf_token %}
            <div class="pb-2">
                <span class="col-md-12 fw-bold display-6">Register for TEDxYOUTH@LPHS</span>
            </div>
            <div class="d-flex flex-md-row flex-column-reverse justify-content-md-start justify-content-center mt-4">
                <div class="col-md-8 col-12">
                    <div class="row g-3 d-none" id="error">
                        <div class="col-md-12 mt-0">
                            <div class="bg-danger text-white p-2 my-2 rounded">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6 mb-3">
                            <label for="FirstName" class="form-label">First Name</label>
                            {{ form.first_name }}    
                        </div>
                        <div class="col-6 mb-3">
                            <label for="LastName" class="form-label">Last Name</label>
                            {{ form.last_name }}    
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-5 col-12 mb-3">
                            <label for="Contact" class="form-label">Contact</label>
                            {{ form.contact_no }}
                        </div>
                        <div class="col-md-7 col-12 mb-3">
                            <label for="Email" class="form-label">Email address</label>
                            {{ form.email }}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 col-3 mb-3">
                            <label for="Age" class="form-label">Age</label>
                            {{ form.age }}
                        </div>
                        <div class="col-md-3 col-12 mb-3">
                            <label for="Qty" class="form-label">Quantity</label>
                            {{ form.quantity }}
                        </div>
                        <div class="d-none">
                            <label for="Seats" class="form-label">Seat Position</label>
                            {{ form.seats }}
                        </div>
                    </div>
                    <div class="row">
                        <div class="d-grid gap-2 col-md-6 mt-md-2 mt-4">
                            <button type="button" class="btn btn-md btn-danger" disabled="disabled" id="pos">Next<i class="bi bi-chevron-right ms-2"></i></button>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 ms-md-5 mb-5 mb-md-0 mx-md-2 flex-shrink-0">
                    <img class="img-fluid" src="{% static 'build/wtk.png' %}" alt="Walk the Talk">
                </div>
            </div>
        </div>
    </form>

    <footer class="d-flex flex-column flex-md-row mt-5 p-2 px-4 h5 align-items-start align-items-md-center text-white border-top border-secondary justify-content-evenly">
        <span class="col-12 col-md-4 my-2 ms-md-4 ms-2 me-md-0 order-md-first text-md-start hidden opacity-100 typewriter">
            <span></span>
        </span>
        <span class="col-12 col-md-4 h3 my-2 text-md-center">
            <a href="https://www.instagram.com/tedxlphs/" target="_blank"><i id="instagram" class="bi bi-instagram px-2"></i></a>
            <a href="https://www.facebook.com/lilavatibaipodarschool/" target="_blank"><i id="fb" class="bi bi-facebook px-2"></i></a>
            <a href="https://www.youtube.com/c/LPHSicse" target="_blank"><i id="youtube" class="bi bi-youtube px-2"></i></a>
        </span>
        <span class="col-12 col-md-4 mx-md-4 my-2 text-md-end me-md-4 ms-md-0 ms-2 fw-light">Ideas worth spreading.</span>
    </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            $("#pos").click(function(){
                let str = "";
                {% for st in booked %}
                    str += "{{ st.seats }}" + ","
                {% endfor %}
                const arr = str.split(",")
                for (let i = 0; i < arr.length-1; i++)
                {
                    if (arr[i].slice(0, 1) != ''){
                        $("#"+arr[i].slice(0, 1)+" > div > button").filter(function(){
                            return $(this).text() === arr[i].slice(1) + '';
                        }).addClass("btn-secondary").removeClass("btn-outline-light").attr("disabled", "true")
                    }
                    
                }
            })
        })
    </script>
    <script src="{% static 'build/main.js' %}"></script>

</body>
</html>
